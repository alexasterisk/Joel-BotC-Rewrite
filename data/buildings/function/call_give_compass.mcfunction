# Convert marker positions to integers for lodestone tracker

# House 1
execute as @e[type=minecraft:marker,tag=house1,limit=1] store result storage minecraft:joelbotc marker_house_1_x int 1 run data get entity @s Pos[0]
execute as @e[type=minecraft:marker,tag=house1,limit=1] store result storage minecraft:joelbotc marker_house_1_y int 1 run data get entity @s Pos[1]
execute as @e[type=minecraft:marker,tag=house1,limit=1] store result storage minecraft:joelbotc marker_house_1_z int 1 run data get entity @s Pos[2]

# House 2
execute as @e[type=minecraft:marker,tag=house2,limit=1] store result storage minecraft:joelbotc marker_house_2_x int 1 run data get entity @s Pos[0]
execute as @e[type=minecraft:marker,tag=house2,limit=1] store result storage minecraft:joelbotc marker_house_2_y int 1 run data get entity @s Pos[1]
execute as @e[type=minecraft:marker,tag=house2,limit=1] store result storage minecraft:joelbotc marker_house_2_z int 1 run data get entity @s Pos[2]

# House 3
execute as @e[type=minecraft:marker,tag=house3,limit=1] store result storage minecraft:joelbotc marker_house_3_x int 1 run data get entity @s Pos[0]
execute as @e[type=minecraft:marker,tag=house3,limit=1] store result storage minecraft:joelbotc marker_house_3_y int 1 run data get entity @s Pos[1]
execute as @e[type=minecraft:marker,tag=house3,limit=1] store result storage minecraft:joelbotc marker_house_3_z int 1 run data get entity @s Pos[2]

# House 4
execute as @e[type=minecraft:marker,tag=house4,limit=1] store result storage minecraft:joelbotc marker_house_4_x int 1 run data get entity @s Pos[0]
execute as @e[type=minecraft:marker,tag=house4,limit=1] store result storage minecraft:joelbotc marker_house_4_y int 1 run data get entity @s Pos[1]
execute as @e[type=minecraft:marker,tag=house4,limit=1] store result storage minecraft:joelbotc marker_house_4_z int 1 run data get entity @s Pos[2]

# House 5
execute as @e[type=minecraft:marker,tag=house5,limit=1] store result storage minecraft:joelbotc marker_house_5_x int 1 run data get entity @s Pos[0]
execute as @e[type=minecraft:marker,tag=house5,limit=1] store result storage minecraft:joelbotc marker_house_5_y int 1 run data get entity @s Pos[1]
execute as @e[type=minecraft:marker,tag=house5,limit=1] store result storage minecraft:joelbotc marker_house_5_z int 1 run data get entity @s Pos[2]

# House 6
execute as @e[type=minecraft:marker,tag=house6,limit=1] store result storage minecraft:joelbotc marker_house_6_x int 1 run data get entity @s Pos[0]
execute as @e[type=minecraft:marker,tag=house6,limit=1] store result storage minecraft:joelbotc marker_house_6_y int 1 run data get entity @s Pos[1]
execute as @e[type=minecraft:marker,tag=house6,limit=1] store result storage minecraft:joelbotc marker_house_6_z int 1 run data get entity @s Pos[2]

# House 7
execute as @e[type=minecraft:marker,tag=house7,limit=1] store result storage minecraft:joelbotc marker_house_7_x int 1 run data get entity @s Pos[0]
execute as @e[type=minecraft:marker,tag=house7,limit=1] store result storage minecraft:joelbotc marker_house_7_y int 1 run data get entity @s Pos[1]
execute as @e[type=minecraft:marker,tag=house7,limit=1] store result storage minecraft:joelbotc marker_house_7_z int 1 run data get entity @s Pos[2]

# House 8
execute as @e[type=minecraft:marker,tag=house8,limit=1] store result storage minecraft:joelbotc marker_house_8_x int 1 run data get entity @s Pos[0]
execute as @e[type=minecraft:marker,tag=house8,limit=1] store result storage minecraft:joelbotc marker_house_8_y int 1 run data get entity @s Pos[1]
execute as @e[type=minecraft:marker,tag=house8,limit=1] store result storage minecraft:joelbotc marker_house_8_z int 1 run data get entity @s Pos[2]

# House 9
execute as @e[type=minecraft:marker,tag=house9,limit=1] store result storage minecraft:joelbotc marker_house_9_x int 1 run data get entity @s Pos[0]
execute as @e[type=minecraft:marker,tag=house9,limit=1] store result storage minecraft:joelbotc marker_house_9_y int 1 run data get entity @s Pos[1]
execute as @e[type=minecraft:marker,tag=house9,limit=1] store result storage minecraft:joelbotc marker_house_9_z int 1 run data get entity @s Pos[2]

# House 10
execute as @e[type=minecraft:marker,tag=house10,limit=1] store result storage minecraft:joelbotc marker_house_10_x int 1 run data get entity @s Pos[0]
execute as @e[type=minecraft:marker,tag=house10,limit=1] store result storage minecraft:joelbotc marker_house_10_y int 1 run data get entity @s Pos[1]
execute as @e[type=minecraft:marker,tag=house10,limit=1] store result storage minecraft:joelbotc marker_house_10_z int 1 run data get entity @s Pos[2]

# House 11
execute as @e[type=minecraft:marker,tag=house11,limit=1] store result storage minecraft:joelbotc marker_house_11_x int 1 run data get entity @s Pos[0]
execute as @e[type=minecraft:marker,tag=house11,limit=1] store result storage minecraft:joelbotc marker_house_11_y int 1 run data get entity @s Pos[1]
execute as @e[type=minecraft:marker,tag=house11,limit=1] store result storage minecraft:joelbotc marker_house_11_z int 1 run data get entity @s Pos[2]

# House 12
execute as @e[type=minecraft:marker,tag=house12,limit=1] store result storage minecraft:joelbotc marker_house_12_x int 1 run data get entity @s Pos[0]
execute as @e[type=minecraft:marker,tag=house12,limit=1] store result storage minecraft:joelbotc marker_house_12_y int 1 run data get entity @s Pos[1]
execute as @e[type=minecraft:marker,tag=house12,limit=1] store result storage minecraft:joelbotc marker_house_12_z int 1 run data get entity @s Pos[2]

# House 13
execute as @e[type=minecraft:marker,tag=house13,limit=1] store result storage minecraft:joelbotc marker_house_13_x int 1 run data get entity @s Pos[0]
execute as @e[type=minecraft:marker,tag=house13,limit=1] store result storage minecraft:joelbotc marker_house_13_y int 1 run data get entity @s Pos[1]
execute as @e[type=minecraft:marker,tag=house13,limit=1] store result storage minecraft:joelbotc marker_house_13_z int 1 run data get entity @s Pos[2]

# House 14
execute as @e[type=minecraft:marker,tag=house14,limit=1] store result storage minecraft:joelbotc marker_house_14_x int 1 run data get entity @s Pos[0]
execute as @e[type=minecraft:marker,tag=house14,limit=1] store result storage minecraft:joelbotc marker_house_14_y int 1 run data get entity @s Pos[1]
execute as @e[type=minecraft:marker,tag=house14,limit=1] store result storage minecraft:joelbotc marker_house_14_z int 1 run data get entity @s Pos[2]

# House 15
execute as @e[type=minecraft:marker,tag=house15,limit=1] store result storage minecraft:joelbotc marker_house_15_x int 1 run data get entity @s Pos[0]
execute as @e[type=minecraft:marker,tag=house15,limit=1] store result storage minecraft:joelbotc marker_house_15_y int 1 run data get entity @s Pos[1]
execute as @e[type=minecraft:marker,tag=house15,limit=1] store result storage minecraft:joelbotc marker_house_15_z int 1 run data get entity @s Pos[2]

# House 16
execute as @e[type=minecraft:marker,tag=house16,limit=1] store result storage minecraft:joelbotc marker_house_16_x int 1 run data get entity @s Pos[0]
execute as @e[type=minecraft:marker,tag=house16,limit=1] store result storage minecraft:joelbotc marker_house_16_y int 1 run data get entity @s Pos[1]
execute as @e[type=minecraft:marker,tag=house16,limit=1] store result storage minecraft:joelbotc marker_house_16_z int 1 run data get entity @s Pos[2]

# Remove old compasses
clear @a compass

# Call the give_compass function with the stored integer coordinates
function buildings:give_compass with storage minecraft:joelbotc