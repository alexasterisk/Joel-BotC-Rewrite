# Announce required votes

# Clear actionbar if no one nominated

execute if score #player_currently_nominated temp matches 0 run title @a actionbar [{"text":" "}]

# OG Hidden

execute unless score #storyteller Nominated matches 1 run execute if score #player_currently_nominated temp matches 1 run execute if score #og_enabled temp matches 1 run title @a actionbar [{"selector":"@a[scores={Nominator=1}]","color":"gold"},{"text":" nominated ","color":"aqua"},{"selector":"@a[scores={Nominated=1}]","color":"gold"},{"text":" - ","color":"aqua"},{"text":"?","color":"light_purple"},{"text":" votes required to mark for execution","color":"red"}]

execute if score #storyteller Nominated matches 1 run execute if score #player_currently_nominated temp matches 1 run execute if score #og_enabled temp matches 1 run title @a actionbar [{"selector":"@a[scores={Nominator=1}]","color":"gold"},{"text":" nominated ","color":"aqua"},{"text":"The Storyteller","color":"blue"},{"text":" - ","color":"aqua"},{"text":"?","color":"light_purple"},{"text":" votes required to mark for execution","color":"red"}]

# Singular

execute unless score #storyteller Nominated matches 1 run execute if score #player_currently_nominated temp matches 1 run execute if score #required_votes temp matches 1 run execute if score #og_enabled temp matches 0 run execute if score #has_anyone_been_marked temp matches 0 run title @a actionbar [{"selector":"@a[scores={Nominator=1}]","color":"gold"},{"text":" nominated ","color":"aqua"},{"selector":"@a[scores={Nominated=1}]","color":"gold"},{"text":" - ","color":"aqua"},{"text":"","color":"green"},{"score":{"name":"#required_votes","objective":"temp"},"color":"green"},{"text":" vote required to mark for execution","color":"aqua"}]
execute unless score #storyteller Nominated matches 1 run execute if score #player_currently_nominated temp matches 1 run execute if score #highest_previous temp matches 1 run execute if score #og_enabled temp matches 0 run execute if score #has_anyone_been_marked temp matches 1 run title @a actionbar [{"selector":"@a[scores={Nominator=1}]","color":"gold"},{"text":" nominated ","color":"aqua"},{"selector":"@a[scores={Nominated=1}]","color":"gold"},{"text":" - ","color":"aqua"},{"text":"","color":"green"},{"score":{"name":"#highest_previous","objective":"temp"},"color":"green"},{"text":" vote required to tie; ","color":"aqua"},{"score":{"name":"#beat_highest_previous","objective":"temp"},"color":"red"},{"text":" to mark for execution","color":"aqua"}]
 
execute unless score #storyteller Nominated matches 1 run execute if score #player_currently_nominated temp matches 1 run execute if score #required_votes temp matches 1 run execute if score #og_enabled temp matches 1 run execute if score #has_anyone_been_marked temp matches 0 run title @a[scores={Storyteller=1}] actionbar [{"selector":"@a[scores={Nominator=1}]","color":"gold"},{"text":" nominated ","color":"aqua"},{"selector":"@a[scores={Nominated=1}]","color":"gold"},{"text":" - ","color":"aqua"},{"text":"","color":"green"},{"score":{"name":"#required_votes","objective":"temp"},"color":"green"},{"text":" vote required to mark for execution","color":"aqua"}]
execute unless score #storyteller Nominated matches 1 run execute if score #player_currently_nominated temp matches 1 run execute if score #highest_previous temp matches 1 run execute if score #og_enabled temp matches 1 run execute if score #has_anyone_been_marked temp matches 1 run title @a[scores={Storyteller=1}] actionbar [{"selector":"@a[scores={Nominator=1}]","color":"gold"},{"text":" nominated ","color":"aqua"},{"selector":"@a[scores={Nominated=1}]","color":"gold"},{"text":" - ","color":"aqua"},{"text":"","color":"green"},{"score":{"name":"#highest_previous","objective":"temp"},"color":"green"},{"text":" vote required to tie; ","color":"aqua"},{"score":{"name":"#beat_highest_previous","objective":"temp"},"color":"red"},{"text":" to mark for execution","color":"aqua"}]

execute if score #storyteller Nominated matches 1 run execute if score #player_currently_nominated temp matches 1 run execute if score #required_votes temp matches 1 run execute if score #og_enabled temp matches 0 run execute if score #has_anyone_been_marked temp matches 0 run title @a actionbar [{"selector":"@a[scores={Nominator=1}]","color":"gold"},{"text":" nominated ","color":"aqua"},{"text":"The Storyteller","color":"blue"},{"text":" - ","color":"aqua"},{"text":"","color":"green"},{"score":{"name":"#required_votes","objective":"temp"},"color":"green"},{"text":" vote required to mark for execution","color":"aqua"}]
execute if score #storyteller Nominated matches 1 run execute if score #player_currently_nominated temp matches 1 run execute if score #highest_previous temp matches 1 run execute if score #og_enabled temp matches 0 run execute if score #has_anyone_been_marked temp matches 1 run title @a actionbar [{"selector":"@a[scores={Nominator=1}]","color":"gold"},{"text":" nominated ","color":"aqua"},{"text":"The Storyteller","color":"blue"},{"text":" - ","color":"aqua"},{"text":"","color":"green"},{"score":{"name":"#highest_previous","objective":"temp"},"color":"green"},{"text":" vote required to tie; ","color":"aqua"},{"score":{"name":"#beat_highest_previous","objective":"temp"},"color":"red"},{"text":" to mark for execution","color":"aqua"}]
 
execute if score #storyteller Nominated matches 1 run execute if score #player_currently_nominated temp matches 1 run execute if score #required_votes temp matches 1 run execute if score #og_enabled temp matches 1 run execute if score #has_anyone_been_marked temp matches 0 run title @a[scores={Storyteller=1}] actionbar [{"selector":"@a[scores={Nominator=1}]","color":"gold"},{"text":" nominated ","color":"aqua"},{"text":"The Storyteller","color":"blue"},{"text":" - ","color":"aqua"},{"text":"","color":"green"},{"score":{"name":"#required_votes","objective":"temp"},"color":"green"},{"text":" vote required to mark for execution","color":"aqua"}]
execute if score #storyteller Nominated matches 1 run execute if score #player_currently_nominated temp matches 1 run execute if score #highest_previous temp matches 1 run execute if score #og_enabled temp matches 1 run execute if score #has_anyone_been_marked temp matches 1 run title @a[scores={Storyteller=1}] actionbar [{"selector":"@a[scores={Nominator=1}]","color":"gold"},{"text":" nominated ","color":"aqua"},{"text":"The Storyteller","color":"blue"},{"text":" - ","color":"aqua"},{"text":"","color":"green"},{"score":{"name":"#highest_previous","objective":"temp"},"color":"green"},{"text":" vote required to tie; ","color":"aqua"},{"score":{"name":"#beat_highest_previous","objective":"temp"},"color":"red"},{"text":" to mark for execution","color":"aqua"}]

# Plural

execute unless score #storyteller Nominated matches 1 run execute if score #player_currently_nominated temp matches 1 run execute unless score #required_votes temp matches 1 run execute if score #og_enabled temp matches 0 run execute if score #has_anyone_been_marked temp matches 0 run title @a actionbar [{"selector":"@a[scores={Nominator=1}]","color":"gold"},{"text":" nominated ","color":"aqua"},{"selector":"@a[scores={Nominated=1}]","color":"gold"},{"text":" - ","color":"aqua"},{"text":"","color":"green"},{"score":{"name":"#required_votes","objective":"temp"},"color":"green"},{"text":" votes required to mark for execution","color":"aqua"}]
execute unless score #storyteller Nominated matches 1 run execute if score #player_currently_nominated temp matches 1 run execute unless score #highest_previous temp matches 1 run execute if score #og_enabled temp matches 0 run execute if score #has_anyone_been_marked temp matches 1 run title @a actionbar [{"selector":"@a[scores={Nominator=1}]","color":"gold"},{"text":" nominated ","color":"aqua"},{"selector":"@a[scores={Nominated=1}]","color":"gold"},{"text":" - ","color":"aqua"},{"text":"","color":"green"},{"score":{"name":"#highest_previous","objective":"temp"},"color":"green"},{"text":" votes required to tie; ","color":"aqua"},{"score":{"name":"#beat_highest_previous","objective":"temp"},"color":"red"},{"text":" to mark for execution","color":"aqua"}]

execute unless score #storyteller Nominated matches 1 run execute if score #player_currently_nominated temp matches 1 run execute unless score #required_votes temp matches 1 run execute if score #og_enabled temp matches 1 run execute if score #has_anyone_been_marked temp matches 0 run title @a[scores={Storyteller=1}] actionbar [{"selector":"@a[scores={Nominator=1}]","color":"gold"},{"text":" nominated ","color":"aqua"},{"selector":"@a[scores={Nominated=1}]","color":"gold"},{"text":" - ","color":"aqua"},{"text":"","color":"green"},{"score":{"name":"#required_votes","objective":"temp"},"color":"green"},{"text":" votes required to mark for execution"}]
execute unless score #storyteller Nominated matches 1 run execute if score #player_currently_nominated temp matches 1 run execute unless score #highest_previous temp matches 1 run execute if score #og_enabled temp matches 1 run execute if score #has_anyone_been_marked temp matches 1 run title @a[scores={Storyteller=1}] actionbar [{"selector":"@a[scores={Nominator=1}]","color":"gold"},{"text":" nominated ","color":"aqua"},{"selector":"@a[scores={Nominated=1}]","color":"gold"},{"text":" - ","color":"aqua"},{"text":"","color":"green"},{"score":{"name":"#highest_previous","objective":"temp"},"color":"green"},{"text":" votes required to tie; ","color":"aqua"},{"score":{"name":"#beat_highest_previous","objective":"temp"},"color":"red"},{"text":" to mark for execution","color":"aqua"}]


execute if score #storyteller Nominated matches 1 run execute if score #player_currently_nominated temp matches 1 run execute unless score #required_votes temp matches 1 run execute if score #og_enabled temp matches 0 run execute if score #has_anyone_been_marked temp matches 0 run title @a actionbar [{"selector":"@a[scores={Nominator=1}]","color":"gold"},{"text":" nominated ","color":"aqua"},{"text":"The Storyteller","color":"blue"},{"text":" - ","color":"aqua"},{"text":"","color":"green"},{"score":{"name":"#required_votes","objective":"temp"},"color":"green"},{"text":" votes required to mark for execution","color":"aqua"}]
execute if score #storyteller Nominated matches 1 run execute if score #player_currently_nominated temp matches 1 run execute unless score #highest_previous temp matches 1 run execute if score #og_enabled temp matches 0 run execute if score #has_anyone_been_marked temp matches 1 run title @a actionbar [{"selector":"@a[scores={Nominator=1}]","color":"gold"},{"text":" nominated ","color":"aqua"},{"text":"The Storyteller","color":"blue"},{"text":" - ","color":"aqua"},{"text":"","color":"green"},{"score":{"name":"#highest_previous","objective":"temp"},"color":"green"},{"text":" votes required to tie; ","color":"aqua"},{"score":{"name":"#beat_highest_previous","objective":"temp"},"color":"red"},{"text":" to mark for execution","color":"aqua"}]

execute if score #storyteller Nominated matches 1 run execute if score #player_currently_nominated temp matches 1 run execute unless score #required_votes temp matches 1 run execute if score #og_enabled temp matches 1 run execute if score #has_anyone_been_marked temp matches 0 run title @a[scores={Storyteller=1}] actionbar [{"selector":"@a[scores={Nominator=1}]","color":"gold"},{"text":" nominated ","color":"aqua"},{"text":"The Storyteller","color":"blue"},{"text":" - ","color":"aqua"},{"text":"","color":"green"},{"score":{"name":"#required_votes","objective":"temp"},"color":"green"},{"text":" votes required to mark for execution"}]
execute if score #storyteller Nominated matches 1 run execute if score #player_currently_nominated temp matches 1 run execute unless score #highest_previous temp matches 1 run execute if score #og_enabled temp matches 1 run execute if score #has_anyone_been_marked temp matches 1 run title @a[scores={Storyteller=1}] actionbar [{"selector":"@a[scores={Nominator=1}]","color":"gold"},{"text":" nominated ","color":"aqua"},{"text":"The Storyteller","color":"blue"},{"text":" - ","color":"aqua"},{"text":"","color":"green"},{"score":{"name":"#highest_previous","objective":"temp"},"color":"green"},{"text":" votes required to tie; ","color":"aqua"},{"score":{"name":"#beat_highest_previous","objective":"temp"},"color":"red"},{"text":" to mark for execution","color":"aqua"}]

# Loop function while player is nominated

execute if score #player_currently_nominated temp matches 1 run schedule function nomination:actionbar_required_votes 1t replace